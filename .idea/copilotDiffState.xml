<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/lib/data/models/movie_model.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/data/models/movie_model.dart" />
              <option name="originalContent" value="class MovieModel {&#10;  final int id;&#10;  final String title;&#10;  final String? overview;&#10;  final String? posterPath;&#10;&#10;  MovieModel({&#10;    required this.id,&#10;    required this.title,&#10;    this.overview,&#10;    this.posterPath,&#10;  });&#10;&#10;  factory MovieModel.fromJson(Map&lt;String, dynamic&gt; json) {&#10;    return MovieModel(&#10;      id: json['id'],&#10;      title: json['title'],&#10;      overview: json['overview'],&#10;      posterPath: json['poster_path'],&#10;    );&#10;  }&#10;}" />
              <option name="updatedContent" value="import 'package:hive/hive.dart';&#10;&#10;part 'movie_model.g.dart';&#10;&#10;@HiveType(typeId: 0)&#10;class MovieModel extends HiveObject {&#10;  @HiveField(0)&#10;  final int id;&#10;  @HiveField(1)&#10;  final String title;&#10;  @HiveField(2)&#10;  final String? overview;&#10;  @HiveField(3)&#10;  final String? posterPath;&#10;&#10;  MovieModel({&#10;    required this.id,&#10;    required this.title,&#10;    this.overview,&#10;    this.posterPath,&#10;  });&#10;&#10;  factory MovieModel.fromJson(Map&lt;String, dynamic&gt; json) {&#10;    return MovieModel(&#10;      id: json['id'],&#10;      title: json['title'],&#10;      overview: json['overview'],&#10;      posterPath: json['poster_path'],&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/data/storage/favorites_storage.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/data/storage/favorites_storage.dart" />
              <option name="updatedContent" value="import 'package:hive/hive.dart';&#10;import '../models/movie_model.dart';&#10;&#10;class FavoritesStorage {&#10;  static const String boxName = 'favorites';&#10;&#10;  Box&lt;MovieModel&gt; get _box =&gt; Hive.box&lt;MovieModel&gt;(boxName);&#10;&#10;  Future&lt;void&gt; addFavorite(MovieModel movie) async {&#10;    // Aynı film eklenmesin&#10;    if (!_box.values.any((m) =&gt; m.id == movie.id)) {&#10;      await _box.add(movie);&#10;    }&#10;  }&#10;&#10;  Future&lt;void&gt; removeFavorite(int movieId) async {&#10;    final key = _box.keys.firstWhere(&#10;      (k) =&gt; _box.get(k)?.id == movieId,&#10;      orElse: () =&gt; null,&#10;    );&#10;    if (key != null) await _box.delete(key);&#10;  }&#10;&#10;  List&lt;MovieModel&gt; getFavorites() {&#10;    return _box.values.toList();&#10;  }&#10;&#10;  bool isFavorite(int movieId) {&#10;    return _box.values.any((m) =&gt; m.id == movieId);&#10;  }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/main.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/main.dart" />
              <option name="originalContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import 'package:provider/provider.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/home_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/discover_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/profile_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/viewmodel/home_cubit.dart';&#10;import 'package:shartflix_movie_app/presentation/home/viewmodel/navigation_vievmodel.dart';&#10;import 'package:shartflix_movie_app/presentation/home/widgets/custom_bottom_navbar.dart';&#10;import 'package:shartflix_movie_app/data/repositories/movie_repository.dart';&#10;import 'package:dio/dio.dart';&#10;import 'package:hive_flutter/hive_flutter.dart';&#10;import 'package:shartflix_movie_app/data/models/movie_model.dart';&#10;import 'package:shartflix_movie_app/data/storage/favorites_storage.dart';&#10;import 'package:shartflix_movie_app/domain/entities/movie.dart';&#10;&#10;void main() async {&#10;  WidgetsFlutterBinding.ensureInitialized();&#10;  await Hive.initFlutter();&#10;  Hive.registerAdapter(MovieModelAdapter());&#10;  await Hive.openBox&lt;MovieModel&gt;('favorites');&#10;&#10;  final dio = Dio();&#10;  final movieRepository = MovieRepository(dio);&#10;&#10;  runApp(&#10;    MultiProvider(&#10;      providers: [&#10;        ChangeNotifierProvider(create: (_) =&gt; NavigationViewModel()),&#10;        BlocProvider(create: (_) =&gt; HomeCubit(movieRepository)),&#10;      ],&#10;      child: const MyApp(),&#10;    ),&#10;  );&#10;}&#10;&#10;class MyApp extends StatelessWidget {&#10;  const MyApp();&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return MaterialApp(&#10;      title: 'Movie App',&#10;      debugShowCheckedModeBanner: false,&#10;      home: MainScaffold(),&#10;    );&#10;  }&#10;}&#10;&#10;class MainScaffold extends StatelessWidget {&#10;  MainScaffold();&#10;&#10;  List&lt;Movie&gt; _getFavoriteMovies() {&#10;    final favorites = FavoritesStorage().getFavorites();&#10;    return favorites.map((fav) =&gt; Movie(&#10;      id: fav.id,&#10;      title: fav.title,&#10;      description: fav.overview,&#10;      imageUrl: fav.posterPath != null ? 'https://image.tmdb.org/t/p/w500${fav.posterPath}' : null,&#10;    )).toList();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    final currentIndex = context.watch&lt;NavigationViewModel&gt;().currentIndex;&#10;    final List&lt;Widget&gt; _screens = [&#10;      HomePage(),&#10;      ProfilePage(favoriteMovies: _getFavoriteMovies()),&#10;    ];&#10;    return Scaffold(&#10;      body: _screens[currentIndex],&#10;      bottomNavigationBar: CustomBottomNavBar(),&#10;    );&#10;  }&#10;}" />
              <option name="updatedContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import 'package:provider/provider.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/home_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/discover_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/view/profile_page.dart';&#10;import 'package:shartflix_movie_app/presentation/home/viewmodel/home_cubit.dart';&#10;import 'package:shartflix_movie_app/presentation/home/viewmodel/navigation_vievmodel.dart';&#10;import 'package:shartflix_movie_app/presentation/home/widgets/custom_bottom_navbar.dart';&#10;import 'package:shartflix_movie_app/data/repositories/movie_repository.dart';&#10;import 'package:dio/dio.dart';&#10;import 'package:hive_flutter/hive_flutter.dart';&#10;import 'package:shartflix_movie_app/data/models/movie_model.dart';&#10;import 'package:shartflix_movie_app/data/storage/favorites_storage.dart';&#10;import 'package:shartflix_movie_app/domain/entities/movie.dart';&#10;&#10;void main() async {&#10;  WidgetsFlutterBinding.ensureInitialized();&#10;  await Hive.initFlutter();&#10;  Hive.registerAdapter(MovieModelAdapter());&#10;  await Hive.openBox&lt;MovieModel&gt;('favorites');&#10;&#10;  final dio = Dio();&#10;  final movieRepository = MovieRepository(dio);&#10;&#10;  runApp(&#10;    MultiProvider(&#10;      providers: [&#10;        ChangeNotifierProvider(create: (_) =&gt; NavigationViewModel()),&#10;        BlocProvider(create: (_) =&gt; HomeCubit(movieRepository)),&#10;      ],&#10;      child: const MyApp(),&#10;    ),&#10;  );&#10;}&#10;&#10;class MyApp extends StatelessWidget {&#10;  const MyApp();&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return MaterialApp(&#10;      title: 'Movie App',&#10;      debugShowCheckedModeBanner: false,&#10;      home: MainScaffold(),&#10;    );&#10;  }&#10;}&#10;&#10;class MainScaffold extends StatelessWidget {&#10;  MainScaffold();&#10;&#10;  List&lt;Movie&gt; _getFavoriteMovies() {&#10;    final favorites = FavoritesStorage().getFavorites();&#10;    return favorites.map((fav) =&gt; Movie(&#10;      id: fav.id,&#10;      title: fav.title,&#10;      description: fav.overview,&#10;      imageUrl: fav.posterPath != null ? 'https://image.tmdb.org/t/p/w500${fav.posterPath}' : null,&#10;    )).toList();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    final currentIndex = context.watch&lt;NavigationViewModel&gt;().currentIndex;&#10;    final List&lt;Widget&gt; _screens = [&#10;      DiscoverPage(),&#10;      ProfilePage(favoriteMovies: _getFavoriteMovies()),&#10;    ];&#10;    return Scaffold(&#10;      body: _screens[currentIndex],&#10;      bottomNavigationBar: CustomBottomNavBar(),&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/presentation/home/view/discover_page.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/presentation/home/view/discover_page.dart" />
              <option name="originalContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import '../../../domain/entities/movie.dart';&#10;import '../viewmodel/home_cubit.dart';&#10;import '../viewmodel/home_state.dart';&#10;&#10;class DiscoverPage extends StatefulWidget {&#10;  const DiscoverPage({Key? key}) : super(key: key);&#10;&#10;  @override&#10;  State&lt;DiscoverPage&gt; createState() =&gt; _DiscoverPageState();&#10;}&#10;&#10;class _DiscoverPageState extends State&lt;DiscoverPage&gt; {&#10;  final PageController _pageController = PageController();&#10;  List&lt;bool&gt; liked = [];&#10;&#10;  @override&#10;  void initState() {&#10;    super.initState();&#10;    _pageController.addListener(_onScroll);&#10;    // İlk filmleri yükle (main.dart'ta da çağrılıyor, burada tekrar çağırmaya gerek yok)&#10;  }&#10;&#10;  void _onScroll() {&#10;    final cubit = context.read&lt;HomeCubit&gt;();&#10;    final state = cubit.state;&#10;    if (state is HomeLoaded) {&#10;      // Son karta gelindiyse yeni filmleri yükle&#10;      if (_pageController.page != null &amp;&amp;&#10;          _pageController.page!.round() &gt;= state.movies.length - 1) {&#10;        cubit.fetchMovies(loadMore: true);&#10;      }&#10;    }&#10;  }&#10;&#10;  void _toggleLike(int index) {&#10;    setState(() {&#10;      liked[index] = !liked[index];&#10;    });&#10;  }&#10;&#10;  @override&#10;  void dispose() {&#10;    _pageController.removeListener(_onScroll);&#10;    _pageController.dispose();&#10;    super.dispose();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: BlocBuilder&lt;HomeCubit, HomeState&gt;(&#10;        builder: (context, state) {&#10;          if (state is HomeLoading) {&#10;            return const Center(child: CircularProgressIndicator());&#10;          } else if (state is HomeLoaded) {&#10;            final movies = state.movies;&#10;            if (liked.length != movies.length) {&#10;              liked = List&lt;bool&gt;.filled(movies.length, false);&#10;            }&#10;            return PageView.builder(&#10;              scrollDirection: Axis.vertical,&#10;              controller: _pageController,&#10;              itemCount: movies.length,&#10;              itemBuilder: (context, index) {&#10;                final movie = movies[index];&#10;                return Stack(&#10;                  fit: StackFit.expand,&#10;                  children: [&#10;                    Image.network(&#10;                      movie.imageUrl ?? '',&#10;                      fit: BoxFit.cover,&#10;                      errorBuilder: (context, error, stackTrace) =&gt; Container(color: Colors.grey),&#10;                    ),&#10;                    Container(&#10;                      decoration: BoxDecoration(&#10;                        gradient: LinearGradient(&#10;                          begin: Alignment.bottomCenter,&#10;                          end: Alignment.topCenter,&#10;                          colors: [Colors.black.withOpacity(0.8), Colors.transparent],&#10;                        ),&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      bottom: 60,&#10;                      left: 16,&#10;                      right: 16,&#10;                      child: Column(&#10;                        crossAxisAlignment: CrossAxisAlignment.start,&#10;                        children: [&#10;                          Text(&#10;                            movie.title,&#10;                            style: const TextStyle(color: Colors.white, fontSize: 28, fontWeight: FontWeight.bold),&#10;                          ),&#10;                          const SizedBox(height: 8),&#10;                          Text(&#10;                            movie.description ?? 'Açıklama yok',&#10;                            style: const TextStyle(color: Colors.white, fontSize: 16),&#10;                          ),&#10;                        ],&#10;                      ),&#10;                    ),&#10;&#10;                    Positioned(&#10;                      top: 450,&#10;                      right: 20,&#10;                      child: Container(&#10;                        decoration: BoxDecoration(&#10;                          shape: BoxShape.circle,&#10;                          color: Colors.black.withOpacity(0.5),&#10;                        ),&#10;                        child: IconButton(&#10;                          icon: Icon(&#10;                            liked[index] ? Icons.favorite : Icons.favorite_border,&#10;                            color: liked[index] ? Colors.red : Colors.white,&#10;                            size: 30,&#10;                          ),&#10;                          onPressed: () =&gt; _toggleLike(index),&#10;                        ),&#10;                      ),&#10;                    ),&#10;&#10;&#10;&#10;                  ],&#10;                );&#10;              },&#10;            );&#10;          } else if (state is HomeError) {&#10;            return Center(child: Text(state.message, style: const TextStyle(color: Colors.white)));&#10;          } else {&#10;            return const SizedBox.shrink();&#10;          }&#10;        },&#10;      ),&#10;    );&#10;  }&#10;}" />
              <option name="updatedContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import '../../../domain/entities/movie.dart';&#10;import '../viewmodel/home_cubit.dart';&#10;import '../viewmodel/home_state.dart';&#10;import '../../../data/storage/favorites_storage.dart';&#10;import '../../../data/models/movie_model.dart';&#10;&#10;class DiscoverPage extends StatefulWidget {&#10;  const DiscoverPage({Key? key}) : super(key: key);&#10;&#10;  @override&#10;  State&lt;DiscoverPage&gt; createState() =&gt; _DiscoverPageState();&#10;}&#10;&#10;class _DiscoverPageState extends State&lt;DiscoverPage&gt; {&#10;  final PageController _pageController = PageController();&#10;  List&lt;bool&gt; liked = [];&#10;  final FavoritesStorage _favoritesStorage = FavoritesStorage();&#10;&#10;  @override&#10;  void initState() {&#10;    super.initState();&#10;    _pageController.addListener(_onScroll);&#10;    // İlk filmleri yükle (main.dart'ta da çağrılıyor, burada tekrar çağırmaya gerek yok)&#10;  }&#10;&#10;  void _onScroll() {&#10;    final cubit = context.read&lt;HomeCubit&gt;();&#10;    final state = cubit.state;&#10;    if (state is HomeLoaded) {&#10;      // Son karta gelindiyse yeni filmleri yükle&#10;      if (_pageController.page != null &amp;&amp;&#10;          _pageController.page!.round() &gt;= state.movies.length - 1) {&#10;        cubit.fetchMovies(loadMore: true);&#10;      }&#10;    }&#10;  }&#10;&#10;  Future&lt;void&gt; _toggleLike(int index, movie) async {&#10;    setState(() {&#10;      liked[index] = !liked[index];&#10;    });&#10;    if (liked[index]) {&#10;      // Favoriye ekle&#10;      final movieModel = MovieModel(&#10;        id: movie.id,&#10;        title: movie.title,&#10;        overview: movie.description,&#10;        posterPath: movie.imageUrl != null &amp;&amp; movie.imageUrl!.contains('/w500')&#10;            ? movie.imageUrl!.replaceFirst('https://image.tmdb.org/t/p/w500', '')&#10;            : movie.imageUrl,&#10;      );&#10;      await _favoritesStorage.addFavorite(movieModel);&#10;    } else {&#10;      await _favoritesStorage.removeFavorite(movie.id);&#10;    }&#10;  }&#10;&#10;  @override&#10;  void dispose() {&#10;    _pageController.removeListener(_onScroll);&#10;    _pageController.dispose();&#10;    super.dispose();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: BlocBuilder&lt;HomeCubit, HomeState&gt;(&#10;        builder: (context, state) {&#10;          if (state is HomeLoading) {&#10;            return const Center(child: CircularProgressIndicator());&#10;          } else if (state is HomeLoaded) {&#10;            final movies = state.movies;&#10;            if (liked.length != movies.length) {&#10;              liked = List&lt;bool&gt;.generate(&#10;                movies.length,&#10;                (i) =&gt; _favoritesStorage.isFavorite(movies[i].id),&#10;              );&#10;            }&#10;            return PageView.builder(&#10;              scrollDirection: Axis.vertical,&#10;              controller: _pageController,&#10;              itemCount: movies.length,&#10;              itemBuilder: (context, index) {&#10;                final movie = movies[index];&#10;                return Stack(&#10;                  fit: StackFit.expand,&#10;                  children: [&#10;                    Image.network(&#10;                      movie.imageUrl ?? '',&#10;                      fit: BoxFit.cover,&#10;                      errorBuilder: (context, error, stackTrace) =&gt; Container(color: Colors.grey),&#10;                    ),&#10;                    Container(&#10;                      decoration: BoxDecoration(&#10;                        gradient: LinearGradient(&#10;                          begin: Alignment.bottomCenter,&#10;                          end: Alignment.topCenter,&#10;                          colors: [Colors.black.withOpacity(0.8), Colors.transparent],&#10;                        ),&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      bottom: 60,&#10;                      left: 16,&#10;                      right: 16,&#10;                      child: Column(&#10;                        crossAxisAlignment: CrossAxisAlignment.start,&#10;                        children: [&#10;                          Text(&#10;                            movie.title,&#10;                            style: const TextStyle(color: Colors.white, fontSize: 28, fontWeight: FontWeight.bold),&#10;                          ),&#10;                          const SizedBox(height: 8),&#10;                          Text(&#10;                            movie.description ?? 'Açıklama yok',&#10;                            style: const TextStyle(color: Colors.white, fontSize: 16),&#10;                          ),&#10;                        ],&#10;                      ),&#10;                    ),&#10;&#10;                    Positioned(&#10;                      top: 450,&#10;                      right: 20,&#10;                      child: Container(&#10;                        decoration: BoxDecoration(&#10;                          shape: BoxShape.circle,&#10;                          color: Colors.black.withOpacity(0.5),&#10;                        ),&#10;                        child: IconButton(&#10;                          icon: Icon(&#10;                            liked[index] ? Icons.favorite : Icons.favorite_border,&#10;                            color: liked[index] ? Colors.red : Colors.white,&#10;                            size: 30,&#10;                          ),&#10;                          onPressed: () =&gt; _toggleLike(index, movie),&#10;                        ),&#10;                      ),&#10;                    ),&#10;&#10;&#10;&#10;                  ],&#10;                );&#10;              },&#10;            );&#10;          } else if (state is HomeError) {&#10;            return Center(child: Text(state.message, style: const TextStyle(color: Colors.white)));&#10;          } else {&#10;            return const SizedBox.shrink();&#10;          }&#10;        },&#10;      ),&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/presentation/home/view/home_page.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/presentation/home/view/home_page.dart" />
              <option name="originalContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import '../../../domain/entities/movie.dart';&#10;import '../viewmodel/home_cubit.dart';&#10;import '../viewmodel/home_state.dart';&#10;import '../../../data/storage/favorites_storage.dart';&#10;import '../../../data/models/movie_model.dart';&#10;&#10;class HomePage extends StatefulWidget {&#10;  const HomePage({Key? key}) : super(key: key);&#10;&#10;  @override&#10;  State&lt;HomePage&gt; createState() =&gt; _HomePageState();&#10;}&#10;&#10;class _HomePageState extends State&lt;HomePage&gt; {&#10;  final PageController _pageController = PageController();&#10;  List&lt;bool&gt; liked = [];&#10;  final FavoritesStorage _favoritesStorage = FavoritesStorage();&#10;&#10;  @override&#10;  void initState() {&#10;    super.initState();&#10;    _pageController.addListener(_onScroll);&#10;  }&#10;&#10;  void _onScroll() {&#10;    final cubit = context.read&lt;HomeCubit&gt;();&#10;    final state = cubit.state;&#10;    if (state is HomeLoaded) {&#10;      if (_pageController.page != null &amp;&amp;&#10;          _pageController.page!.round() &gt;= state.movies.length - 1) {&#10;        cubit.fetchMovies(loadMore: true);&#10;      }&#10;    }&#10;  }&#10;&#10;  Future&lt;void&gt; _toggleLike(int index, movie) async {&#10;    setState(() {&#10;      liked[index] = !liked[index];&#10;    });&#10;    if (liked[index]) {&#10;      final movieModel = MovieModel(&#10;        id: movie.id,&#10;        title: movie.title,&#10;        overview: movie.description,&#10;        posterPath: movie.imageUrl != null &amp;&amp; movie.imageUrl!.contains('/w500')&#10;            ? movie.imageUrl!.replaceFirst('https://image.tmdb.org/t/p/w500', '')&#10;            : movie.imageUrl,&#10;      );&#10;      await _favoritesStorage.addFavorite(movieModel);&#10;    } else {&#10;      await _favoritesStorage.removeFavorite(movie.id);&#10;    }&#10;  }&#10;&#10;  @override&#10;  void dispose() {&#10;    _pageController.removeListener(_onScroll);&#10;    _pageController.dispose();&#10;    super.dispose();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: BlocBuilder&lt;HomeCubit, HomeState&gt;(&#10;        builder: (context, state) {&#10;          if (state is HomeLoading) {&#10;            return const Center(child: CircularProgressIndicator());&#10;          } else if (state is HomeLoaded) {&#10;            final movies = state.movies;&#10;            if (liked.length != movies.length) {&#10;              liked = List&lt;bool&gt;.generate(&#10;                movies.length,&#10;                    (i) =&gt; _favoritesStorage.isFavorite(movies[i].id),&#10;              );&#10;            }&#10;            return PageView.builder(&#10;              scrollDirection: Axis.vertical,&#10;              controller: _pageController,&#10;              itemCount: movies.length,&#10;              itemBuilder: (context, index) {&#10;                final movie = movies[index];&#10;                return Stack(&#10;                  fit: StackFit.expand,&#10;                  children: [&#10;                    Image.network(&#10;                      movie.imageUrl ?? '',&#10;                      fit: BoxFit.cover,&#10;                      errorBuilder: (context, error, stackTrace) =&gt; Container(color: Colors.grey),&#10;                    ),&#10;                    Container(&#10;                      decoration: BoxDecoration(&#10;                        gradient: LinearGradient(&#10;                          begin: Alignment.bottomCenter,&#10;                          end: Alignment.topCenter,&#10;                          colors: [Colors.black.withOpacity(0.8), Colors.transparent],&#10;                        ),&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      bottom: 60,&#10;                      left: 16,&#10;                      right: 16,&#10;                      child: Column(&#10;                        crossAxisAlignment: CrossAxisAlignment.start,&#10;                        children: [&#10;                          Text(&#10;                            movie.title,&#10;                            style: const TextStyle(color: Colors.white, fontSize: 28, fontWeight: FontWeight.bold),&#10;                          ),&#10;                          const SizedBox(height: 8),&#10;                          Text(&#10;                            movie.description ?? 'Açıklama yok',&#10;                            style: const TextStyle(color: Colors.white, fontSize: 16),&#10;                          ),&#10;                        ],&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      top: 450,&#10;                      right: 20,&#10;                      child: Container(&#10;                        decoration: BoxDecoration(&#10;                          shape: BoxShape.circle,&#10;                          color: Colors.black.withOpacity(0.5),&#10;                        ),&#10;                        child: IconButton(&#10;                          icon: Icon(&#10;                            liked[index] ? Icons.favorite : Icons.favorite_border,&#10;                            color: liked[index] ? Colors.red : Colors.white,&#10;                            size: 30,&#10;                          ),&#10;                          onPressed: () =&gt; _toggleLike(index, movie),&#10;                        ),&#10;                      ),&#10;                    ),&#10;                  ],&#10;                );&#10;              },&#10;            );&#10;          } else if (state is HomeError) {&#10;            return Center(child: Text(state.message, style: const TextStyle(color: Colors.white)));&#10;          } else {&#10;            return const SizedBox.shrink();&#10;          }&#10;        },&#10;      ),&#10;    );&#10;  }&#10;}" />
              <option name="updatedContent" value="import 'package:flutter/material.dart';&#10;import 'package:flutter_bloc/flutter_bloc.dart';&#10;import '../../../domain/entities/movie.dart';&#10;import '../viewmodel/home_cubit.dart';&#10;import '../viewmodel/home_state.dart';&#10;import '../../../data/storage/favorites_storage.dart';&#10;import '../../../data/models/movie_model.dart';&#10;&#10;class HomePage extends StatefulWidget {&#10;  const HomePage({Key? key}) : super(key: key);&#10;&#10;  @override&#10;  State&lt;HomePage&gt; createState() =&gt; _HomePageState();&#10;}&#10;&#10;class _HomePageState extends State&lt;HomePage&gt; {&#10;  final PageController _pageController = PageController();&#10;  List&lt;bool&gt; liked = [];&#10;  final FavoritesStorage _favoritesStorage = FavoritesStorage();&#10;&#10;  @override&#10;  void initState() {&#10;    super.initState();&#10;    _pageController.addListener(_onScroll);&#10;    context.read&lt;HomeCubit&gt;().fetchMovies();&#10;  }&#10;&#10;  void _onScroll() {&#10;    final cubit = context.read&lt;HomeCubit&gt;();&#10;    final state = cubit.state;&#10;    if (state is HomeLoaded) {&#10;      if (_pageController.page != null &amp;&amp;&#10;          _pageController.page!.round() &gt;= state.movies.length - 1) {&#10;        cubit.fetchMovies(loadMore: true);&#10;      }&#10;    }&#10;  }&#10;&#10;  Future&lt;void&gt; _toggleLike(int index, movie) async {&#10;    setState(() {&#10;      liked[index] = !liked[index];&#10;    });&#10;    if (liked[index]) {&#10;      final movieModel = MovieModel(&#10;        id: movie.id,&#10;        title: movie.title,&#10;        overview: movie.description,&#10;        posterPath: movie.imageUrl != null &amp;&amp; movie.imageUrl!.contains('/w500')&#10;            ? movie.imageUrl!.replaceFirst('https://image.tmdb.org/t/p/w500', '')&#10;            : movie.imageUrl,&#10;      );&#10;      await _favoritesStorage.addFavorite(movieModel);&#10;    } else {&#10;      await _favoritesStorage.removeFavorite(movie.id);&#10;    }&#10;  }&#10;&#10;  @override&#10;  void dispose() {&#10;    _pageController.removeListener(_onScroll);&#10;    _pageController.dispose();&#10;    super.dispose();&#10;  }&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: BlocBuilder&lt;HomeCubit, HomeState&gt;(&#10;        builder: (context, state) {&#10;          if (state is HomeLoading) {&#10;            return const Center(child: CircularProgressIndicator());&#10;          } else if (state is HomeLoaded) {&#10;            final movies = state.movies;&#10;            if (liked.length != movies.length) {&#10;              liked = List&lt;bool&gt;.generate(&#10;                movies.length,&#10;                    (i) =&gt; _favoritesStorage.isFavorite(movies[i].id),&#10;              );&#10;            }&#10;            return PageView.builder(&#10;              scrollDirection: Axis.vertical,&#10;              controller: _pageController,&#10;              itemCount: movies.length,&#10;              itemBuilder: (context, index) {&#10;                final movie = movies[index];&#10;                return Stack(&#10;                  fit: StackFit.expand,&#10;                  children: [&#10;                    Image.network(&#10;                      movie.imageUrl ?? '',&#10;                      fit: BoxFit.cover,&#10;                      errorBuilder: (context, error, stackTrace) =&gt; Container(color: Colors.grey),&#10;                    ),&#10;                    Container(&#10;                      decoration: BoxDecoration(&#10;                        gradient: LinearGradient(&#10;                          begin: Alignment.bottomCenter,&#10;                          end: Alignment.topCenter,&#10;                          colors: [Colors.black.withOpacity(0.8), Colors.transparent],&#10;                        ),&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      bottom: 60,&#10;                      left: 16,&#10;                      right: 16,&#10;                      child: Column(&#10;                        crossAxisAlignment: CrossAxisAlignment.start,&#10;                        children: [&#10;                          Text(&#10;                            movie.title,&#10;                            style: const TextStyle(color: Colors.white, fontSize: 28, fontWeight: FontWeight.bold),&#10;                          ),&#10;                          const SizedBox(height: 8),&#10;                          Text(&#10;                            movie.description ?? 'Açıklama yok',&#10;                            style: const TextStyle(color: Colors.white, fontSize: 16),&#10;                          ),&#10;                        ],&#10;                      ),&#10;                    ),&#10;                    Positioned(&#10;                      top: 450,&#10;                      right: 20,&#10;                      child: Container(&#10;                        decoration: BoxDecoration(&#10;                          shape: BoxShape.circle,&#10;                          color: Colors.black.withOpacity(0.5),&#10;                        ),&#10;                        child: IconButton(&#10;                          icon: Icon(&#10;                            liked[index] ? Icons.favorite : Icons.favorite_border,&#10;                            color: liked[index] ? Colors.red : Colors.white,&#10;                            size: 30,&#10;                          ),&#10;                          onPressed: () =&gt; _toggleLike(index, movie),&#10;                        ),&#10;                      ),&#10;                    ),&#10;                  ],&#10;                );&#10;              },&#10;            );&#10;          } else if (state is HomeError) {&#10;            return Center(child: Text(state.message, style: const TextStyle(color: Colors.white)));&#10;          } else {&#10;            return const SizedBox.shrink();&#10;          }&#10;        },&#10;      ),&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/lib/presentation/home/view/profile_page.dart">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/lib/presentation/home/view/profile_page.dart" />
              <option name="originalContent" value="import 'package:flutter/material.dart';&#10;import '../../../domain/entities/movie.dart';&#10;&#10;class ProfilePage extends StatelessWidget {&#10;  final List&lt;Movie&gt; favoriteMovies;&#10;&#10;  const ProfilePage({super.key, required this.favoriteMovies});&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: SafeArea(&#10;        child: Padding(&#10;          padding: const EdgeInsets.symmetric(horizontal: 16),&#10;          child: Column(&#10;            crossAxisAlignment: CrossAxisAlignment.start,&#10;            children: [&#10;              //  Header&#10;              Row(&#10;                mainAxisAlignment: MainAxisAlignment.spaceBetween,&#10;                children: [&#10;                  const Icon(Icons.arrow_back, color: Colors.white),&#10;                  const Text(&quot;Profil Detayı&quot;,&#10;                      style: TextStyle(color: Colors.white, fontSize: 18)),&#10;                  Container(&#10;                    padding:&#10;                        const EdgeInsets.symmetric(horizontal: 12, vertical: 6),&#10;                    decoration: BoxDecoration(&#10;                      color: Colors.red,&#10;                      borderRadius: BorderRadius.circular(30),&#10;                    ),&#10;                    child: const Text(&quot;Sınırlı Teklif&quot;,&#10;                        style: TextStyle(color: Colors.white, fontSize: 12)),&#10;                  )&#10;                ],&#10;              ),&#10;              const SizedBox(height: 24),&#10;&#10;              //  Kullanıcı Bilgileri&#10;              Row(&#10;                children: [&#10;                  const CircleAvatar(&#10;                    radius: 35,&#10;                    backgroundImage: NetworkImage(&#10;                      'https://i.pravatar.cc/150?img=32', // demo profil resmi&#10;                    ),&#10;                  ),&#10;                  const SizedBox(width: 16),&#10;                  const Expanded(&#10;                    child: Column(&#10;                      crossAxisAlignment: CrossAxisAlignment.start,&#10;                      children: [&#10;                        Text(&quot;Ayça Aydoğan&quot;,&#10;                            style:&#10;                                TextStyle(color: Colors.white, fontSize: 18)),&#10;                        SizedBox(height: 4),&#10;                        Text(&quot;ID: 245677&quot;,&#10;                            style: TextStyle(&#10;                                color: Colors.white54, fontSize: 14)),&#10;                      ],&#10;                    ),&#10;                  ),&#10;                  ElevatedButton(&#10;                    style: ElevatedButton.styleFrom(&#10;                      backgroundColor: Colors.red,&#10;                      padding: const EdgeInsets.symmetric(&#10;                          vertical: 8, horizontal: 12),&#10;                    ),&#10;                    onPressed: () {},&#10;                    child: const Text(&quot;Fotoğraf Ekle&quot;),&#10;                  ),&#10;                ],&#10;              ),&#10;&#10;              const SizedBox(height: 24),&#10;              const Text(&quot;Beğendiğim Filmler&quot;,&#10;                  style: TextStyle(color: Colors.white, fontSize: 16)),&#10;              const SizedBox(height: 12),&#10;&#10;              //  Favori Filmler Grid&#10;              Expanded(&#10;                child: GridView.builder(&#10;                  itemCount: favoriteMovies.length,&#10;                  padding: const EdgeInsets.only(bottom: 12),&#10;                  gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(&#10;                    crossAxisCount: 2,&#10;                    mainAxisSpacing: 16,&#10;                    crossAxisSpacing: 16,&#10;                    childAspectRatio: 0.65,&#10;                  ),&#10;                  itemBuilder: (context, index) {&#10;                    final movie = favoriteMovies[index];&#10;                    return ClipRRect(&#10;                      borderRadius: BorderRadius.circular(12),&#10;                      child: Container(&#10;                        color: Colors.white10,&#10;                        child: Column(&#10;                          crossAxisAlignment: CrossAxisAlignment.start,&#10;                          children: [&#10;                            AspectRatio(&#10;                              aspectRatio: 3 / 4,&#10;                              child: movie.imageUrl != null&#10;                                  ? Image.network(movie.imageUrl!,&#10;                                      fit: BoxFit.cover)&#10;                                  : Container(color: Colors.grey),&#10;                            ),&#10;                            Padding(&#10;                              padding: const EdgeInsets.all(8.0),&#10;                              child: Text(&#10;                                movie.title,&#10;                                style: const TextStyle(&#10;                                    color: Colors.white, fontSize: 14),&#10;                                maxLines: 1,&#10;                                overflow: TextOverflow.ellipsis,&#10;                              ),&#10;                            ),&#10;                            Padding(&#10;                              padding:&#10;                                  const EdgeInsets.symmetric(horizontal: 8.0),&#10;                              child: Text(&#10;                                &quot;Yapımcı: ${movie.description ?? 'Bilinmiyor'}&quot;,&#10;                                style: const TextStyle(&#10;                                    color: Colors.white54, fontSize: 12),&#10;                                maxLines: 1,&#10;                                overflow: TextOverflow.ellipsis,&#10;                              ),&#10;                            ),&#10;                          ],&#10;                        ),&#10;                      ),&#10;                    );&#10;                  },&#10;                ),&#10;              ),&#10;&#10;              //  Alt Menü&#10;              Row(&#10;                mainAxisAlignment: MainAxisAlignment.spaceAround,&#10;                children: const [&#10;                  _BottomNavItem(label: &quot;Anasayfa&quot;, icon: Icons.home),&#10;                  _BottomNavItem(label: &quot;Profil&quot;, icon: Icons.person),&#10;                ],&#10;              ),&#10;              const SizedBox(height: 8)&#10;            ],&#10;          ),&#10;        ),&#10;      ),&#10;    );&#10;  }&#10;}&#10;&#10;class _BottomNavItem extends StatelessWidget {&#10;  final String label;&#10;  final IconData icon;&#10;  const _BottomNavItem({required this.label, required this.icon});&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Column(&#10;      children: [&#10;        Icon(icon, color: Colors.white),&#10;        const SizedBox(height: 4),&#10;        Text(label, style: const TextStyle(color: Colors.white)),&#10;      ],&#10;    );&#10;  }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="import 'package:flutter/material.dart';&#10;import '../../../domain/entities/movie.dart';&#10;&#10;class ProfilePage extends StatelessWidget {&#10;  final List&lt;Movie&gt; favoriteMovies;&#10;&#10;  const ProfilePage({super.key, required this.favoriteMovies});&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Scaffold(&#10;      backgroundColor: Colors.black,&#10;      body: SafeArea(&#10;        child: Padding(&#10;          padding: const EdgeInsets.symmetric(horizontal: 16),&#10;          child: Column(&#10;            crossAxisAlignment: CrossAxisAlignment.start,&#10;            children: [&#10;              //  Header&#10;              Row(&#10;                mainAxisAlignment: MainAxisAlignment.spaceBetween,&#10;                children: [&#10;                  const Icon(Icons.arrow_back, color: Colors.white),&#10;                  const Text(&quot;Profil Detayı&quot;,&#10;                      style: TextStyle(color: Colors.white, fontSize: 18)),&#10;                  Container(&#10;                    padding:&#10;                        const EdgeInsets.symmetric(horizontal: 12, vertical: 6),&#10;                    decoration: BoxDecoration(&#10;                      color: Colors.red,&#10;                      borderRadius: BorderRadius.circular(30),&#10;                    ),&#10;                    child: const Text(&quot;Sınırlı Teklif&quot;,&#10;                        style: TextStyle(color: Colors.white, fontSize: 12)),&#10;                  )&#10;                ],&#10;              ),&#10;              const SizedBox(height: 24),&#10;&#10;              //  Kullanıcı Bilgileri&#10;              Row(&#10;                children: [&#10;                  const CircleAvatar(&#10;                    radius: 35,&#10;                    backgroundImage: NetworkImage(&#10;                      'https://i.pravatar.cc/150?img=32', // demo profil resmi&#10;                    ),&#10;                  ),&#10;                  const SizedBox(width: 16),&#10;                  const Expanded(&#10;                    child: Column(&#10;                      crossAxisAlignment: CrossAxisAlignment.start,&#10;                      children: [&#10;                        Text(&quot;Ayça Aydoğan&quot;,&#10;                            style:&#10;                                TextStyle(color: Colors.white, fontSize: 18)),&#10;                        SizedBox(height: 4),&#10;                        Text(&quot;ID: 245677&quot;,&#10;                            style: TextStyle(&#10;                                color: Colors.white54, fontSize: 14)),&#10;                      ],&#10;                    ),&#10;                  ),&#10;                  ElevatedButton(&#10;                    style: ElevatedButton.styleFrom(&#10;                      backgroundColor: Colors.red,&#10;                      padding: const EdgeInsets.symmetric(&#10;                          vertical: 8, horizontal: 12),&#10;                    ),&#10;                    onPressed: () {},&#10;                    child: const Text(&quot;Fotoğraf Ekle&quot;),&#10;                  ),&#10;                ],&#10;              ),&#10;&#10;              const SizedBox(height: 24),&#10;              const Text(&quot;Beğendiğim Filmler&quot;,&#10;                  style: TextStyle(color: Colors.white, fontSize: 16)),&#10;              const SizedBox(height: 12),&#10;&#10;              //  Favori Filmler Grid&#10;              Expanded(&#10;                child: GridView.builder(&#10;                  itemCount: favoriteMovies.length,&#10;                  padding: const EdgeInsets.only(bottom: 12),&#10;                  gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(&#10;                    crossAxisCount: 2,&#10;                    mainAxisSpacing: 16,&#10;                    crossAxisSpacing: 16,&#10;                    childAspectRatio: 0.65,&#10;                  ),&#10;                  itemBuilder: (context, index) {&#10;                    final movie = favoriteMovies[index];&#10;                    return ClipRRect(&#10;                      borderRadius: BorderRadius.circular(12),&#10;                      child: Container(&#10;                        color: Colors.white10,&#10;                        child: Column(&#10;                          crossAxisAlignment: CrossAxisAlignment.start,&#10;                          children: [&#10;                            AspectRatio(&#10;                              aspectRatio: 3 / 4,&#10;                              child: movie.imageUrl != null&#10;                                  ? Image.network(movie.imageUrl!,&#10;                                      fit: BoxFit.cover)&#10;                                  : Container(color: Colors.grey),&#10;                            ),&#10;                            Padding(&#10;                              padding: const EdgeInsets.all(8.0),&#10;                              child: Text(&#10;                                movie.title,&#10;                                style: const TextStyle(&#10;                                    color: Colors.white, fontSize: 14),&#10;                                maxLines: 1,&#10;                                overflow: TextOverflow.ellipsis,&#10;                              ),&#10;                            ),&#10;                            Padding(&#10;                              padding:&#10;                                  const EdgeInsets.symmetric(horizontal: 8.0),&#10;                              child: Text(&#10;                                &quot;Yapımcı: ${movie.description ?? 'Bilinmiyor'}&quot;,&#10;                                style: const TextStyle(&#10;                                    color: Colors.white54, fontSize: 12),&#10;                                maxLines: 1,&#10;                                overflow: TextOverflow.ellipsis,&#10;                              ),&#10;                            ),&#10;                            const Spacer(),&#10;                          ],&#10;                        ),&#10;                      ),&#10;                    );&#10;                  },&#10;                ),&#10;              ),&#10;&#10;              //  Alt Menü&#10;              Row(&#10;                mainAxisAlignment: MainAxisAlignment.spaceAround,&#10;                children: const [&#10;                  _BottomNavItem(label: &quot;Anasayfa&quot;, icon: Icons.home),&#10;                  _BottomNavItem(label: &quot;Profil&quot;, icon: Icons.person),&#10;                ],&#10;              ),&#10;              const SizedBox(height: 8)&#10;            ],&#10;          ),&#10;        ),&#10;      ),&#10;    );&#10;  }&#10;}&#10;&#10;class _BottomNavItem extends StatelessWidget {&#10;  final String label;&#10;  final IconData icon;&#10;  const _BottomNavItem({required this.label, required this.icon});&#10;&#10;  @override&#10;  Widget build(BuildContext context) {&#10;    return Column(&#10;      children: [&#10;        Icon(icon, color: Colors.white),&#10;        const SizedBox(height: 4),&#10;        Text(label, style: const TextStyle(color: Colors.white)),&#10;      ],&#10;    );&#10;  }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>